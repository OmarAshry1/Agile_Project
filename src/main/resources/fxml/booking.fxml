<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="700.0" prefWidth="1000.0" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="edu.facilities.ui.BookingController">

    <VBox spacing="0" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0" styleClass="content-area">
        
        <!-- Top Bar -->
        <HBox styleClass="top-bar" spacing="16" alignment="CENTER_LEFT">
            <VBox spacing="4" HBox.hgrow="ALWAYS">
                <Label styleClass="top-bar-title" text="Book a Room" />
                <Label styleClass="top-bar-subtitle" text="Select a room and time slot for your booking" />
            </VBox>
        </HBox>
        
        <!-- Main Content -->
        <VBox spacing="24" styleClass="padding-lg">
            
            <!-- Filter Section Card -->
            <VBox styleClass="card" spacing="16">
                <Label styleClass="section-header" text="Filter Rooms" />
                <HBox spacing="16" alignment="CENTER_LEFT">
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label styleClass="form-label" text="Min Capacity" />
                        <ComboBox fx:id="capacityFilter" promptText="Any Capacity" prefHeight="40" prefWidth="200" />
                    </VBox>
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label styleClass="form-label" text="Equipment" />
                        <TextField fx:id="equipmentFilter" promptText="e.g., Projector, Whiteboard..." prefHeight="40" prefWidth="300" />
                    </VBox>
                </HBox>
            </VBox>
            
            <!-- Booking Form Card -->
            <VBox styleClass="card" spacing="20">
                <Label styleClass="section-header" text="Booking Details" />
                
                <!-- Room Selection -->
                <VBox spacing="8" styleClass="form-group">
                    <Label styleClass="form-label" text="Select Room *" />
                    <ComboBox fx:id="roomComboBox" prefHeight="44" promptText="Select an available room" />
                    <Label fx:id="roomError" styleClass="error-message" text="" visible="false" />
                </VBox>
                
                <!-- Date Selection -->
                <VBox spacing="8" styleClass="form-group">
                    <Label styleClass="form-label" text="Booking Date *" />
                    <DatePicker fx:id="datePicker" prefHeight="44" />
                    <Label fx:id="dateError" styleClass="error-message" text="" visible="false" />
                </VBox>
                
                <!-- Time Selection -->
                <VBox spacing="8" styleClass="form-group">
                    <Label styleClass="form-label" text="Time Slot *" />
                    <HBox spacing="16" alignment="CENTER_LEFT">
                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                            <Label styleClass="form-label" text="Start Time" />
                            <HBox spacing="8" alignment="CENTER_LEFT">
                                <Spinner fx:id="startHourSpinner" editable="true" max="23" min="0" prefWidth="80" />
                                <Label text=":" style="-fx-font-size: 18px; -fx-font-weight: 600;" />
                                <Spinner fx:id="startMinuteSpinner" editable="true" max="59" min="0" prefWidth="80" />
                            </HBox>
                        </VBox>
                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                            <Label styleClass="form-label" text="End Time" />
                            <HBox spacing="8" alignment="CENTER_LEFT">
                                <Spinner fx:id="endHourSpinner" editable="true" max="23" min="0" prefWidth="80" />
                                <Label text=":" style="-fx-font-size: 18px; -fx-font-weight: 600;" />
                                <Spinner fx:id="endMinuteSpinner" editable="true" max="59" min="0" prefWidth="80" />
                            </HBox>
                        </VBox>
                    </HBox>
                    <Label fx:id="timeError" styleClass="error-message" text="" visible="false" />
                </VBox>
                
                <!-- Purpose/Description -->
                <VBox spacing="8" styleClass="form-group">
                    <Label styleClass="form-label" text="Purpose (Optional)" />
                    <TextArea fx:id="purposeTextArea" prefHeight="100" promptText="e.g., Class lecture, Meeting, Event..." wrapText="true" />
                </VBox>
                
                <!-- Action Buttons -->
                <HBox spacing="12" alignment="CENTER_RIGHT">
                    <Button fx:id="cancelButton" onAction="#handleCancel" styleClass="btn-secondary" text="Cancel" />
                    <Button fx:id="submitButton" onAction="#handleSubmit" styleClass="btn-primary" text="Book Room" />
                </HBox>
                
                <!-- Status Message -->
                <Label fx:id="statusLabel" alignment="CENTER" styleClass="success-message" text="" textAlignment="CENTER" visible="false" wrapText="true" />
            </VBox>
        </VBox>
    </VBox>
</AnchorPane>
